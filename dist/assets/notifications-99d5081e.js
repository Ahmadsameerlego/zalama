import{_ as f,n as l,b as s,c as n,e,F as h,i as g,t as a}from"./index-4c615b4d.js";const u={data(){return{notifications:[],user:JSON.parse(localStorage.getItem("user")||"{}")}},methods:{async getNotifications(){try{const o=await l.post("/api/show-notification",{user_id:this.user.id});this.notifications=o.data.data||[]}catch(o){console.error("Error fetching notifications:",o)}},async deleteNotification(o){try{await l.post("/api/delete-notification",{notification_id:o}),this.notifications=this.notifications.filter(t=>t.id!==o)}catch(t){console.error("Error deleting notification:",t)}},goToProfile(){this.$router.push("/profile"),sessionStorage.setItem("comesFrom","notifications")}},mounted(){this.getNotifications()}},p={class:"container mx-auto px-4 py-6"},m={key:0,class:"bg-white shadow rounded-lg divide-y"},x={class:"text-gray-800 font-medium"},_={class:"text-sm text-gray-500"},v=["onClick"],w={key:1,class:"bg-white shadow rounded-lg p-6 text-center text-gray-500"};function y(o,t,k,b,c,r){return s(),n("div",p,[t[2]||(t[2]=e("h1",{class:"text-2xl font-bold mb-4"},"الإشعارات",-1)),c.notifications.length?(s(),n("div",m,[(s(!0),n(h,null,g(c.notifications,i=>(s(),n("div",{key:i.id,onClick:t[0]||(t[0]=(...d)=>r.goToProfile&&r.goToProfile(...d)),class:"flex items-center justify-between p-4 hover:bg-gray-50 transition"},[e("div",null,[e("p",x,a(i.message),1),e("p",_,a(i.duration)+" • "+a(i.date),1)]),e("button",{onClick:d=>r.deleteNotification(i.id),class:"text-red-500 hover:text-red-700"},t[1]||(t[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:`M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 
                 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16`})],-1)]),8,v)]))),128))])):(s(),n("div",w," لا يوجد إشعارات جديدة "))])}const B=f(u,[["render",y]]);export{B as default};
