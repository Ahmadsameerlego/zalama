import{_ as K,r as g,o as V,a as Y,b as a,c as i,d as B,w as H,T as W,e,f as $,g as Z,v as ee,h as J,t as l,F as j,i as I,j as te,k as X,l as oe,m as T,n as P,p as N,u as se,q as E}from"./index-4c615b4d.js";import{P as re,_ as U}from"./CartSidebar.vue_vue_type_style_index_0_scoped_bce1d799_lang-0a8f5ddf.js";import{E as ae}from"./EditAddOnsModal-6de7927e.js";import{T as ne}from"./Toast-7c860256.js";/* empty css                                                                        */const A=[{id:1,name:"برجر كلاسيك",image:"https://images.unsplash.com/photo-1550547660-d9450f859349?auto=format&fit=crop&w=600&q=80",description:"قطعة لحم بقري شهية مع خس وطماطم وصوص خاص.",price:7.99,originalPrice:8.99,discountedPrice:7.99,category:"البرجر",addOns:[{id:"a1",name:"جبنة إضافية",price:1},{id:"a2",name:"لحم مقدد",price:1.5},{id:"a3",name:"مخلل",price:.5}]},{id:2,name:"بيتزا نباتية",image:"https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=600&q=80",description:"عجينة مقرمشة مع صلصة طماطم وجبنة موتزاريلا وخضار طازجة.",price:10.5,originalPrice:12.5,discountedPrice:10.5,category:"البيتزا",addOns:[{id:"b1",name:"زيتون",price:.7},{id:"b2",name:"جبنة إضافية",price:1},{id:"b3",name:"فطر",price:.8}]},{id:3,name:"شاورما دجاج",image:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=600&q=80",description:"دجاج طري مع صوص الثوم والمخلل ملفوف في خبز البيتا.",price:7.5,category:"الشاورما",addOns:[{id:"c1",name:"صوص ثوم إضافي",price:.5},{id:"c2",name:"صوص حار",price:.5},{id:"c3",name:"بطاطس",price:1.2}]},{id:4,name:"سلطة سيزر",image:"https://images.unsplash.com/photo-1464306076886-debca5e8a6b0?auto=format&fit=crop&w=600&q=80",description:"خس طازج مع جبنة بارميزان وقطع خبز محمصة وصوص سيزر.",price:6,category:"السلطات",addOns:[{id:"d1",name:"دجاج مشوي",price:2},{id:"d2",name:"بارميزان إضافي",price:.7}]}],le={class:"relative w-full h-80 md:h-96 lg:h-[500px] overflow-hidden"},ie={key:0,class:"absolute inset-0 w-full h-full"},de=["src"],ce={class:"search relative z-20 h-full flex flex-col justify-center items-center px-4"},ue={class:"w-full max-w-2xl mx-auto px-2"},pe={class:"bg-white/95 backdrop-blur-md rounded-3xl shadow-2xl border border-white/20 p-4 sm:p-6 md:p-4"},he={class:"mb-6"},me={class:"relative"},ve=["placeholder"],fe={class:"mt-6"},ge={class:"mt-8 md:mt-12 flex gap-3 justify-start overflow-x-auto md:flex-wrap md:justify-center scrollbar-hide"},xe=["onClick"],_e={__name:"HeroSection",props:{sliderData:{type:Array,default:()=>[]},sections:{type:Array,default:()=>[]}},emits:["search","to-category"],setup(k,{emit:v}){const C=v,m=k;function x(S){C("go-to-category",S)}const y=g(0),_=g("");let D=null;V(()=>{m.sliderData&&m.sliderData.length&&(D=setInterval(()=>{y.value=(y.value+1)%m.sliderData.length},5e3))}),Y(()=>{clearInterval(D)});function M(){C("search",_.value)}return(S,c)=>(a(),i("section",le,[k.sliderData.length?(a(),i("div",ie,[B(W,{name:"fade-slide",mode:"out-in"},{default:H(()=>{var f,p;return[(a(),i("img",{key:(f=k.sliderData[y.value])==null?void 0:f.id,src:(p=k.sliderData[y.value])==null?void 0:p.image,class:"object-contain w-full h-full transition-all duration-700",alt:"Hero image"},null,8,de))]}),_:1}),c[1]||(c[1]=e("div",{class:"absolute inset-0 bg-gradient-to-b from-black/60 via-black/30 to-black/60"},null,-1))])):$("",!0),e("div",ce,[e("div",ue,[e("div",pe,[e("div",he,[e("div",me,[c[2]||(c[2]=e("div",{class:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none"},[e("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),Z(e("input",{"onUpdate:modelValue":c[0]||(c[0]=f=>_.value=f),type:"text",placeholder:S.$t("hero.searchPlaceholder"),class:"w-full pr-12 pl-2 py-2 sm:py-4 md:py-2 text-base sm:text-lg border-2 border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all bg-white/80"},null,8,ve),[[ee,_.value]])])]),e("div",fe,[e("button",{onClick:M,class:"md:w-1/2 mx-auto bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 sm:py-4 px-3 md:py-2 rounded-2xl font-bold text-base sm:text-lg hover:from-orange-600 hover:to-red-600 transition-all shadow-lg flex items-center justify-center gap-3"},[c[3]||(c[3]=e("svg",{class:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),J(" "+l(S.$t("hero.searchButton")),1)])])])]),e("div",ge,[(a(!0),i(j,null,I(k.sections,f=>(a(),i("button",{key:f.id,onClick:p=>x(f.id),class:"bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-full font-medium hover:bg-white/30 transition-all border border-white/30 shrink-0"},l(f.title),9,xe))),128))])])]))}},be=K(_e,[["__scopeId","data-v-93113475"]]),ye={key:0,class:"fixed top-0 right-0 h-full w-80 max-w-full bg-white shadow-lg z-50 flex flex-col text-right",dir:"rtl"},we={class:"flex items-center justify-between p-4 border-b"},ke={class:"text-xl font-bold"},$e={class:"flex-1 p-4 overflow-y-auto"},Ce={class:"flex items-center justify-between mb-1"},Se={class:"font-semibold"},je={class:"flex items-center gap-2"},De=["onClick"],Ie={class:"mx-1"},Oe=["onClick"],Te=["onClick"],Be={key:0,class:"text-xs text-gray-500 mb-1"},Me={class:"flex items-center justify-between"},Pe={class:"text-sm font-bold text-primary"},Ne=["onClick"],Ue={key:1,class:"text-gray-500"},Le={class:"p-4 border-t"},ze={__name:"CartSidebar",props:{open:{type:Boolean,default:!1}},emits:["close"],setup(k,{emit:v}){const C=k;te(()=>C.open,o=>{o&&p()});const m=g({visible:!1,message:"",type:"success"}),x=(o,s="success")=>{m.value={visible:!0,message:o,type:s},setTimeout(()=>m.value.visible=!1,3e3)},y=X("cart");console.log(C.payload,"dsdsds ");const _=g(!1),D=g(null),M=o=>{D.value=o,_.value=!0},S=o=>{p(),console.log(o,"updateData ")},c=g([]),f=g([]),p=async()=>{var s;const o=JSON.parse(localStorage.getItem("user")||"{}");try{const n=await P.post("/api/show-cart",{user_id:o.id});c.value=n.data.data,f.value=(s=n.data)==null?void 0:s.providers}catch(n){console.error("Error fetching data:",n)}};V(()=>{p()});const L=()=>{c.value=localStorage.setItem("cart_data",JSON.stringify(y.value)),localStorage.setItem("providers",JSON.stringify(f.value))},z=async o=>{const s=JSON.parse(localStorage.getItem("user")||"{}");try{const n=await P.post("/api/update-to-cart",{user_id:s.id,cart_id:o,count:0,option_ids:[]});x(n.data.msg,"success"),setTimeout(()=>{p()},800)}catch(n){console.error("Error fetching data:",n),x("فشل الاتصال بالخادم","error")}},t=o=>{const s=c.value.find(n=>n.id===o);s&&w(s,s.count+1)},r=o=>{const s=c.value.find(n=>n.id===o);s&&w(s,s.count-1)},w=async(o,s)=>{var d;const n=JSON.parse(localStorage.getItem("user")||"{}");if(!(n!=null&&n.id)){x("يجب تسجيل الدخول أولاً","error");return}try{if(s<=0)await P.post("/api/update-to-cart",{user_id:n.id,cart_id:o.id,count:0,option_ids:[]}),x("تم إزالة العنصر من السلة","success");else{const b=await P.post("/api/update-to-cart",{user_id:n.id,cart_id:o.id,count:s,option_ids:JSON.stringify((d=o.service_options)==null?void 0:d.map(h=>h.id))||[]});x("تم تحديث عدد العناصر","success")}p()}catch(b){console.error("Error updating item count:",b),x("فشل الاتصال بالخادم","error")}};return(o,s)=>{const n=oe("router-link");return a(),i(j,null,[B(W,{name:"slide-rtl"},{default:H(()=>[k.open?(a(),i("aside",ye,[B(ae,{open:_.value,item:D.value,onClose:s[0]||(s[0]=d=>_.value=!1),onUpdate:S},null,8,["open","item"]),e("div",we,[e("h2",ke,l(o.$t("cartItems")),1),e("button",{onClick:s[1]||(s[1]=d=>o.$emit("close")),class:"text-gray-400 hover:text-gray-700 bg-white rounded-full p-1 shadow-md hover:shadow-lg transition-all"},s[2]||(s[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",$e,[c.value.length?(a(!0),i(j,{key:0},I(c.value,d=>{var b;return a(),i("div",{key:d.id,class:"mb-4 border-b pb-2"},[e("div",Ce,[e("div",Se,l(d.service_title),1),e("div",je,[e("button",{onClick:h=>t(d.id),class:"bg-gray-200 rounded px-2"},"+",8,De),e("span",Ie,l(d.count),1),e("button",{onClick:h=>r(d.id),class:"bg-gray-200 rounded px-2"},"-",8,Oe)]),e("button",{onClick:h=>z(d.id),class:"text-red-500 hover:text-red-700"},s[3]||(s[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Te)]),(b=d.options)!=null&&b.length?(a(),i("div",Be,l(o.$t("addsOns"))+": "+l(d.options.map(h=>h.title).join("، ")),1)):$("",!0),e("div",Me,[e("div",Pe,l(d.total_with_option)+" "+l(o.$t("currency")),1),e("button",{onClick:h=>M(d),class:"text-primary hover:text-primary-dark text-xs flex items-center gap-1"},[s[4]||(s[4]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)),J(" "+l(o.$t("edit")),1)],8,Ne)])])}),128)):(a(),i("p",Ue,l(o.$t("emptyCart")),1))]),e("div",Le,[B(n,{to:"/checkout",onClick:L,class:"block w-full bg-primary text-white py-2 rounded font-semibold hover:bg-primary-dark transition text-center"},{default:H(()=>[J(l(o.$t("ProceedToCheckout")),1)]),_:1})])])):$("",!0)]),_:1}),m.value.visible?(a(),T(ne,{key:0,message:m.value.message,type:m.value.type,visible:m.value.visible},null,8,["message","type","visible"])):$("",!0)],64)}}},Ee=K(ze,[["__scopeId","data-v-bce1d799"]]),Ae={class:""},He={key:0,class:"container mx-auto px-4 py-8"},Je={key:0},Ve={class:"flex gap-6 overflow-x-auto"},Fe={key:1},qe={class:"container mx-auto px-4 py-12"},Qe={class:"text-center mb-12"},Re={class:"text-4xl font-bold mb-4 bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent"},Ge={class:"text-gray-600 text-lg"},Ke={class:"overflow-x-auto pb-4"},We={key:1,class:"py-12"},Xe={class:"container mx-auto px-4"},Ye={class:"text-center mb-12"},Ze={class:"text-4xl font-bold mb-4 text-red-600"},et={class:"text-gray-600 text-lg"},tt={class:"overflow-x-auto pb-4"},ot={class:"container mx-auto px-4 py-12"},st=["id"],rt={class:"text-center mb-8"},at={class:"text-3xl font-bold mb-2 text-gray-800"},nt={class:"overflow-x-auto pb-4"},lt={key:1},it={class:"text-red-600 text-center text-2xl"},dt={class:"bg-gradient-to-r from-gray-50 to-gray-100 py-16"},ct={class:"container mx-auto px-4"},ut={class:"text-center mb-12"},pt={class:"text-4xl font-bold mb-4 text-gray-800"},ht={class:"text-gray-600 text-lg"},mt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8"},vt={class:"text-center"},ft={class:"text-xl font-bold mb-2"},gt={class:"text-gray-600"},xt={class:"text-center"},_t={class:"text-xl font-bold mb-2"},bt={class:"text-gray-600"},yt={class:"text-center"},wt={class:"text-xl font-bold mb-2"},kt={class:"text-gray-600"},Ot={__name:"Home",setup(k){const v=g(null);N(()=>A),N(()=>A.filter(t=>t.discountedPrice&&t.originalPrice&&t.discountedPrice<t.originalPrice)),N(()=>[...new Set(A.map(t=>t.category))]);function C(t){var r,w;return(w=(r=v.value)==null?void 0:r.data)==null?void 0:w.services.filter(o=>o.section_id===t.id)}const m=g(null),x=g(!1),y=g(!1);function _(t){m.value=t,x.value=!0}function D(){x.value=!1,m.value=null}g(null);const M=X("addToCart");function S(t){console.log(t),M(t),y.value=!0}se();const c=N(()=>"flex gap-4 md:gap-6  pb-4 "),f=async()=>{const t=JSON.parse(localStorage.getItem("user")||"{}");try{const r=await P.post("/api/home",{user_id:t.id});v.value=r.data,console.log("Home data fetched successfully:",v.value.data)}catch(r){console.error("Error fetching data:",r)}},p=g(null);function L(t){var o,s,n,d;if(!t){p.value=null;return}const r=(s=(o=v.value)==null?void 0:o.data)==null?void 0:s.services.filter(b=>{var h;return(h=b.title)==null?void 0:h.toLowerCase().includes(t.toLowerCase())}),w=(d=(n=v.value)==null?void 0:n.data)==null?void 0:d.sections.filter(b=>{var h;return(h=b.title)==null?void 0:h.toLowerCase().includes(t.toLowerCase())});p.value={services:r,sections:w}}function z(t){const r=document.getElementById(`section-${t}`);r&&r.scrollIntoView({behavior:"smooth",block:"start"})}return V(()=>{f()}),(t,r)=>{var w,o,s,n,d,b,h,F,q,Q,R,G;return a(),i("div",Ae,[B(be,{onGoToCategory:z,sliderData:(o=(w=v.value)==null?void 0:w.data)==null?void 0:o.sliders,sections:(n=(s=v.value)==null?void 0:s.data)==null?void 0:n.sections,onSearch:L},null,8,["sliderData","sections"]),p.value?(a(),i("div",He,[r[3]||(r[3]=e("h2",{class:"text-center text-4xl font-bold mb-4 bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent"},"نتائج البحث",-1)),p.value.services.length?(a(),i("div",Je,[r[1]||(r[1]=e("h3",{class:"text-xl font-semibold mb-2"},"الخدمات",-1)),e("div",Ve,[(a(!0),i(j,null,I(p.value.services,u=>(a(),T(U,{key:u.id,product:u,onClick:O=>_(u),rtl:""},null,8,["product","onClick"]))),128))])])):$("",!0),!p.value.sections.length&&!p.value.services.length?(a(),i("div",Fe,r[2]||(r[2]=[e("p",{class:"text-red-600 text-lg"},"لا توجد نتائج مطابقة !",-1)]))):$("",!0)])):$("",!0),e("div",qe,[e("div",Qe,[e("h2",Re,l(t.$t("home.menu.title")),1),e("p",Ge,l(t.$t("home.menu.subtitle")),1)]),e("div",Ke,[e("div",{class:E(["flex gap-6",c.value])},[(a(!0),i(j,null,I((b=(d=v.value)==null?void 0:d.data)==null?void 0:b.services,u=>(a(),T(U,{key:u.id,product:u,onClick:O=>_(u),rtl:""},null,8,["product","onClick"]))),128))],2)])]),((F=(h=v.value)==null?void 0:h.data)==null?void 0:F.offers.length)>0?(a(),i("div",We,[e("div",Xe,[e("div",Ye,[e("h2",Ze,l(t.$t("home.offers.title")),1),e("p",et,l(t.$t("home.offers.subtitle")),1)]),e("div",tt,[e("div",{class:E(["flex gap-6",c.value])},[(a(!0),i(j,null,I((Q=(q=v.value)==null?void 0:q.data)==null?void 0:Q.offers,u=>(a(),T(U,{key:u.id,product:u,"show-discount":!0,onClick:O=>_(u),rtl:""},null,8,["product","onClick"]))),128))],2)])])])):$("",!0),e("div",ot,[(a(!0),i(j,null,I((G=(R=v.value)==null?void 0:R.data)==null?void 0:G.sections,u=>(a(),i("div",{key:u.id,class:"mb-16",id:"section-"+u.id},[e("div",rt,[e("h2",at,l(u.title),1),r[4]||(r[4]=e("div",{class:"w-24 h-1 bg-gradient-to-r from-orange-500 to-red-500 mx-auto rounded-full"},null,-1))]),e("div",nt,[C(u).length?(a(),i("div",{key:0,class:E(["flex gap-6",c.value])},[(a(!0),i(j,null,I(C(u),O=>(a(),T(U,{key:O.id,product:O,onClick:$t=>_(O),rtl:""},null,8,["product","onClick"]))),128))],2)):(a(),i("div",lt,[e("p",it,l(t.$t("NotFoundProducts"))+" !",1)]))])],8,st))),128))]),e("div",dt,[e("div",ct,[e("div",ut,[e("h2",pt,l(t.$t("home.whyChooseUs.title")),1),e("p",ht,l(t.$t("home.whyChooseUs.subtitle")),1)]),e("div",mt,[e("div",vt,[r[5]||(r[5]=e("div",{class:"w-16 h-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("h3",ft,l(t.$t("home.whyChooseUs.fastDelivery.title")),1),e("p",gt,l(t.$t("home.whyChooseUs.fastDelivery.description")),1)]),e("div",xt,[r[6]||(r[6]=e("div",{class:"w-16 h-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})])],-1)),e("h3",_t,l(t.$t("home.whyChooseUs.freshFood.title")),1),e("p",bt,l(t.$t("home.whyChooseUs.freshFood.description")),1)]),e("div",yt,[r[7]||(r[7]=e("div",{class:"w-16 h-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("h3",wt,l(t.$t("home.whyChooseUs.highQuality.title")),1),e("p",kt,l(t.$t("home.whyChooseUs.highQuality.description")),1)])])])]),m.value?(a(),T(re,{key:2,open:x.value,product:m.value,onClose:D,onAddToCart:S,rtl:""},null,8,["open","product"])):$("",!0),B(Ee,{open:y.value,onClose:r[0]||(r[0]=u=>y.value=!1)},null,8,["open"])])}}};export{Ot as default};
