import{_ as pe,r as a,u as ve,p as q,o as me,l as L,b as d,c as u,e,t as r,s as I,F as G,i as H,h as V,g,v as C,q as x,f as h,z as S,d as z,w as R,T as ge,m as te,A as ye,n as A}from"./index-4c615b4d.js";import{T as be}from"./Toast-7c860256.js";const he={dir:"rtl",class:"bg-gradient-to-br from-orange-50 to-red-50 text-right min-h-screen"},fe={class:"container mx-auto px-4 py-8"},_e={class:"text-4xl font-bold mb-8 text-center bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent"},xe={class:"grid gap-8 lg:grid-cols-2"},ke={class:"space-y-8"},we={class:"block mb-3 font-semibold text-gray-700"},Me={class:"space-y-3 max-h-64 overflow-y-auto"},$e=["onClick"],Ce={class:"flex items-center justify-between"},Se={class:"font-semibold text-gray-800"},Ve={class:"text-sm text-gray-500"},Ne=["onClick"],Be=["value"],je={class:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-white/20"},Pe={class:"text-2xl font-bold mb-6 flex items-center gap-3"},Ae={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Oe={class:"block mb-3 font-semibold text-gray-700"},Te={key:0,class:"text-red-500 text-sm mt-2"},Ue={class:"block mb-3 font-semibold text-gray-700"},De={key:0,class:"text-red-500 text-sm mt-2"},Le={class:"grid gap-4"},Ie={class:""},Ge={class:"mb-3"},ze={class:"block mb-3 font-semibold text-gray-700"},Fe={class:"block mb-3 font-semibold text-gray-700"},Je={class:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-white/20"},Ee={class:"text-2xl font-bold mb-6 flex items-center gap-3"},qe={class:"space-y-4 mb-10"},He={class:"mr-4"},Re={class:"font-semibold"},Ke={class:"text-sm text-gray-500"},Qe={key:0},We={class:"flex items-center p-4 mb-2 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-primary transition-all"},Xe=["value"],Ye={class:"mr-4"},Ze={class:"font-semibold"},et={class:"text-sm text-gray-500"},tt={class:"mr-4"},ot={class:"font-semibold"},st={class:"text-sm text-gray-500"},rt={class:"text-2xl font-bold mb-6 flex items-center gap-3"},lt={class:"space-y-4"},at={class:"mr-4"},nt={class:"font-semibold"},dt={class:"text-sm text-gray-500"},it={class:"mr-4"},ut={class:"font-semibold"},ct={class:"text-sm text-gray-500"},pt={class:"mr-4"},vt={class:"font-semibold"},mt={class:"text-sm text-gray-500"},gt={class:"mx-10"},yt={class:"font-semibold"},bt={key:0},ht={class:"mb-3"},ft={class:"block mb-3 font-semibold text-gray-700"},_t={class:"grid grid-cols-1 gap-4 mt-5"},xt={class:"space-y-6"},kt={class:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-white/20"},wt={class:"text-2xl font-bold mb-6 flex items-center gap-3"},Mt={key:0,class:"space-y-4"},$t={class:"flex justify-between items-start mb-2"},Ct={class:"font-semibold text-lg"},St={key:0,class:"text-sm text-gray-500"},Vt={class:"text-left"},Nt={class:"font-bold text-lg"},Bt={class:"border-t border-gray-200 pt-6 space-y-3"},jt={class:"flex justify-between"},Pt={class:"text-lg"},At={class:"text-lg font-semibold"},Ot={class:"flex justify-between"},Tt={class:"text-lg"},Ut={class:"text-lg font-semibold"},Dt={class:"block mb-3 font-semibold text-gray-700"},Lt={class:"relative flex md:flex-row flex-col"},It=["placeholder"],Gt={key:0,class:"text-red-500 text-xs"},zt={class:"flex justify-between text-xl font-bold text-primary border-t border-gray-200 pt-3"},Ft={key:1,class:"text-center py-12"},Jt={class:"text-gray-500 text-lg"},Et={class:"space-y-4"},qt=["disabled"],Ht={key:0,class:"flex items-center justify-center gap-2"},Rt={key:1},Kt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4"},Qt={class:"relative bg-white rounded-3xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto"},Wt={class:"flex justify-between items-center mb-6"},Xt={class:"text-xl font-bold text-gray-800"},Yt={key:0,class:"mt-4"},Zt=["placeholder"],eo={key:1,class:"flex gap-4 mt-6"},to={__name:"Checkout",setup(oo){const v=JSON.parse(localStorage.getItem("user")||"{}"),K=a(""),k=a({visible:!1,message:"",type:"success"}),O=a([]),c=(t,o="success")=>{k.value={visible:!0,message:t,type:o},setTimeout(()=>k.value.visible=!1,3e3)},Q=a({}),oe=ve(),N=a(JSON.parse(localStorage.getItem("cart_data")||"[]")),l=a({name:v==null?void 0:v.first_name,phone:v==null?void 0:v.full_phone,address:(v==null?void 0:v.address)||"",apartment:"",floor:"",location:"",deliveryMethod:"delivery",paymentMethod:"cash",coupon:"",branchProvider:null}),F=a(0),W=a([]),B=q(()=>N.value.reduce((t,o)=>t+o.total_with_option,0)),X=q(()=>B.value+U.value-F.value),y=a({}),se=a(""),re=async()=>{var n,b,w,M,s,m,_,$;if(!l.value.coupon.trim()){y.value.coupon="ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù…Ø² Ø§Ù„Ù‚Ø³ÙŠÙ…Ø©";return}const o={user_id:JSON.parse(localStorage.getItem("user")||"{}").id,code:l.value.coupon};try{const i=await A.post("/api/check-promo",o);((n=i.data)==null?void 0:n.key)===1?(c(((b=i.data)==null?void 0:b.msg)||"Ø±Ù…Ø² Ø§Ù„Ù‚Ø³ÙŠÙ…Ø© ØµØ§Ù„Ø­","success"),se.value=((M=(w=i.data)==null?void 0:w.data)==null?void 0:M.discount)||"",F.value=B.value*((s=i.data.data)==null?void 0:s.discount)/100):(F.value=0,c(((m=i.data)==null?void 0:m.msg)||"Ø±Ù…Ø² Ø§Ù„Ù‚Ø³ÙŠÙ…Ø© ØºÙŠØ± ØµØ§Ù„Ø­","error"))}catch(i){console.error("Checkout error:",i),c((($=(_=i.response)==null?void 0:_.data)==null?void 0:$.msg)||"ÙØ´Ù„ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø±Ù…Ø² Ø§Ù„Ù‚Ø³ÙŠÙ…Ø©","error")}finally{}},T=a(!1);a(null),a(null);const U=q(()=>{switch(l.value.deliveryMethod){case"branch":return 0;case"delivery":return 2;default:return 2}});function le(){return y.value={},l.value.name.trim()||(y.value.name="Ø§Ù„Ø§Ø³Ù… Ù…Ø·Ù„ÙˆØ¨"),l.value.phone.trim()||(y.value.phone="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ù…Ø·Ù„ÙˆØ¨"),Object.keys(y.value).length===0}async function ae(){var n,b,w,M,s,m,_,$;if(!le())return;if(!N.value.length){k.error("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©");return}const t=JSON.parse(localStorage.getItem("user")||"{}");console.log(t,"user");const o={user_id:t.id,type:l.value.deliveryMethod==="branch"?"pickup":"delivery",lat:((n=O.value.find(i=>i.vip===!0))==null?void 0:n.lat)||null,lng:((b=O.value.find(i=>i.vip===!0))==null?void 0:b.lng)||null,name:l.value.name,phone:l.value.phone,address:l.value.address,apartment_number:l.value.apartment,floor_number:l.value.floor,sub_total:B.value,delivery:U.value,total_before_promo:B.value+U.value,total_after_promo:X.value,payment_method:l.value.paymentMethod,promo_code:l.value.coupon||"",provider_id:l.value.branchProvider||null};try{T.value=!0,console.log(o,"body");const i=await A.post("/api/store-order",o);if(((w=i.data)==null?void 0:w.key)!==1){c(((M=i.data)==null?void 0:M.msg)||"ÙØ´Ù„ ÙÙŠ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨","error");return}c(((s=i.data)==null?void 0:s.msg)||"ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­","success"),localStorage.removeItem("cart_data"),localStorage.setItem("order_data",JSON.stringify(((m=i.data)==null?void 0:m.data)||{})),setTimeout(()=>{oe.push("/thank-you")},1e3)}catch(i){console.error("Checkout error:",i),c((($=(_=i.response)==null?void 0:_.data)==null?void 0:$.msg)||"ÙØ´Ù„ ÙÙŠ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨","error")}finally{T.value=!1}}const Y=a(!1),j=a(!1);a("");const J=a("");a([]),a({lat:null,lng:null,address:"",title:"home"});const f=a({lat:31.963158,lng:35.930359}),p=a(null),P=a("");a("profile");const ne=a(null),D=a(!1),Z=(t=null)=>{ne.value=t,t?(f.value={lat:t.lat,lng:t.lng},p.value={...f.value},P.value=t.address,D.value=!0):(navigator.geolocation&&navigator.geolocation.getCurrentPosition(o=>{f.value={lat:o.coords.latitude,lng:o.coords.longitude},p.value={...f.value}},()=>{f.value={lat:31.963158,lng:35.930359}}),p.value=null,P.value="",D.value=!1),j.value=!0,ye(()=>initSearchBox())},E=async()=>{if(!(v!=null&&v.id)){c("Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø³ØªØ®Ø¯Ù…","error");return}try{Y.value=!0;const t=await A.post("/api/all-addresses",{user_id:v.id});if(t.data.key===1){const o=t.data.data;K.value=t.data.click_number||"",O.value=o}else c(t.data.msg||"ÙØ´Ù„ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª","error")}catch(t){console.error("show-user error:",t),c("ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…","error")}finally{Y.value=!1}},de=t=>{p.value={lat:t.latLng.lat(),lng:t.latLng.lng()},ee()},ie=t=>{p.value={lat:t.latLng.lat(),lng:t.latLng.lng()},ee()},ee=async()=>{if(!p.value)return;new google.maps.Geocoder().geocode({location:p.value},(o,n)=>{n==="OK"?o[0]?(P.value=o[0].formatted_address,console.log("Selected address:",o[0].formatted_address)):console.warn("No results found"):console.error("Geocoder failed due to: "+n)})};me(()=>{E(),W.value=JSON.parse(localStorage.getItem("providers")||"[]"),navigator.geolocation&&navigator.geolocation.getCurrentPosition(n=>{f.value={lat:n.coords.latitude,lng:n.coords.longitude},p.value={...f.value},console.log(p,"fdfdfdfdfdfdfd")},n=>{console.warn("Geolocation error:",n)});const t=document.getElementById("searchBox");if(!t)return;const o=new google.maps.places.SearchBox(t);o.addListener("places_changed",()=>{const n=o.getPlaces();if(!n||!n.length)return;const b=n[0];b.geometry&&(f.value={lat:b.geometry.location.lat(),lng:b.geometry.location.lng()},p.value={...f.value},P.value=b.formatted_address)})});const ue=async()=>{if(!p.value){c("Ø§Ø®ØªØ± Ù…ÙˆÙ‚Ø¹Ùƒ Ø£ÙˆÙ„Ø§Ù‹","error");return}try{const t=await A.post("/api/store-address",{user_id:v.id,title:J.value,address:P.value,lat:p.value.lat,lng:p.value.lng});t.data.key===1?(c("ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ù†Ø¬Ø§Ø­","success"),j.value=!1,E()):c(t.data.msg||"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ÙØ¸","error")}catch(t){console.error(t),c("ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…","error")}},ce=async t=>{const o=JSON.parse(localStorage.getItem("user")||"{}");if(!(o!=null&&o.id)){c("ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹","error");return}try{const n=await A.post("/api/update-address",{user_id:o.id,address_id:t.id,vip:!0,lat:t.lat,lng:t.lng});n.data.key===1?(c("ØªÙ… ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙƒØ§ÙØªØ±Ø§Ø¶ÙŠ","success"),E()):c(n.data.msg||"Ø®Ø·Ø£ ÙÙŠ ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¹Ù†ÙˆØ§Ù†","error")}catch(n){console.error("Error setting default address:",n),c("ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…","error")}};return(t,o)=>{const n=L("router-link"),b=L("GMapAutocomplete"),w=L("GMapMarker"),M=L("GMapMap");return d(),u(G,null,[e("div",he,[e("div",fe,[e("h1",_e,r(t.$t("checkout")),1),e("form",{onSubmit:I(ae,["prevent"]),class:"space-y-6"},[e("div",xe,[e("div",ke,[e("div",null,[e("label",we,r(t.$t("locationOnMap")),1),e("div",Me,[(d(!0),u(G,null,H(O.value,s=>(d(),u("div",{key:s.id,onClick:I(m=>Z(s),["stop"]),class:x(["p-4 border rounded-xl cursor-pointer transition-all bg-white",s.vip?"border-primary bg-orange-50":"border-gray-200 hover:bg-gray-50 hover:border-primary"])},[e("div",Ce,[e("div",null,[e("div",Se,r(s.title),1),e("div",Ve,r(s.address||s.lat+", "+s.lng),1)]),e("div",null,[e("label",{class:"flex items-center gap-2 cursor-pointer bg-gray-100 px-4 py-2 rounded-lg hover:bg-gray-200 transition",onClick:I(m=>ce(s),["stop"])},[g(e("input",{type:"radio",name:"defaultAddress",value:s,"onUpdate:modelValue":o[0]||(o[0]=m=>Q.value=m),class:"hidden"},null,8,Be),[[S,Q.value]]),e("span",{class:x(["text-sm",{"text-green-600 font-semibold":s.vip===!0}])},r(s.vip===!0?t.$t("defaultAddress"):t.$t("setAsDefault")),3)],8,Ne)])])],10,$e))),128))])]),e("button",{onClick:o[1]||(o[1]=s=>Z()),class:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-4 rounded-xl font-bold text-lg hover:from-orange-600 hover:to-red-600 transition-all shadow-lg"},r(t.$t("addNewAddress")),1),e("div",je,[e("h2",Pe,[o[18]||(o[18]=e("svg",{class:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),V(" "+r(t.$t("deliveryInfo")),1)]),e("div",Ae,[e("div",null,[e("label",Oe,r(t.$t("fullName"))+" *",1),g(e("input",{"onUpdate:modelValue":o[2]||(o[2]=s=>l.value.name=s),type:"text",class:x(["w-full border-2 border-gray-200 rounded-xl px-4 py-4 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",{"border-red-500":y.value.name}]),required:""},null,2),[[C,l.value.name]]),y.value.name?(d(),u("p",Te,r(y.value.name),1)):h("",!0)]),e("div",null,[e("label",Ue,r(t.$t("phone"))+" *",1),g(e("input",{"onUpdate:modelValue":o[3]||(o[3]=s=>l.value.phone=s),type:"tel",class:x(["w-full border-2 border-gray-200 rounded-xl px-4 py-4 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",{"border-red-500":y.value.phone}]),required:"",style:{direction:"rtl"},onInput:o[4]||(o[4]=s=>l.value.phone=l.value.phone.replace(/\D/g,""))},null,34),[[C,l.value.phone]]),y.value.phone?(d(),u("p",De,r(y.value.phone),1)):h("",!0)])]),e("section",Le,[o[19]||(o[19]=e("div",{class:"h-full"},null,-1)),e("div",Ie,[e("div",Ge,[e("label",ze,r(t.$t("apartment")),1),g(e("input",{"onUpdate:modelValue":o[5]||(o[5]=s=>l.value.apartment=s),type:"text",class:"w-full border-2 border-gray-200 rounded-xl px-4 py-4 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all"},null,512),[[C,l.value.apartment]])]),e("div",null,[e("label",Fe,r(t.$t("floor")),1),g(e("input",{"onUpdate:modelValue":o[6]||(o[6]=s=>l.value.floor=s),type:"text",class:"w-full border-2 border-gray-200 rounded-xl px-4 py-4 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all"},null,512),[[C,l.value.floor]])])])])])]),e("div",Je,[e("h2",Ee,[o[20]||(o[20]=e("svg",{class:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1)),V(" "+r(t.$t("deliveryMethod")),1)]),e("div",qe,[e("label",{class:x(["flex items-center p-4 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-primary transition-all",{"border-primary bg-orange-50":l.value.deliveryMethod==="branch"}])},[g(e("input",{"onUpdate:modelValue":o[7]||(o[7]=s=>l.value.deliveryMethod=s),type:"radio",value:"branch",class:"text-primary focus:ring-primary"},null,512),[[S,l.value.deliveryMethod]]),e("div",He,[e("div",Re,r(t.$t("branchPickup")),1),e("div",Ke,r(t.$t("branchPickupDescription")),1)])],2),l.value.deliveryMethod==="branch"?(d(),u("div",Qe,[(d(!0),u(G,null,H(W.value,(s,m)=>(d(),u("div",{key:m},[e("label",We,[g(e("input",{"onUpdate:modelValue":o[8]||(o[8]=_=>l.value.branchProvider=_),type:"radio",value:s.id,class:"text-primary focus:ring-primary"},null,8,Xe),[[S,l.value.branchProvider]]),e("div",Ye,[e("div",Ze,r(s.name),1),e("div",et,r(s.address),1)])])]))),128))])):h("",!0),e("label",{class:x(["flex items-center p-4 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-primary transition-all",{"border-primary bg-orange-50":l.value.deliveryMethod==="delivery"}])},[g(e("input",{"onUpdate:modelValue":o[9]||(o[9]=s=>l.value.deliveryMethod=s),type:"radio",value:"delivery",class:"text-primary focus:ring-primary"},null,512),[[S,l.value.deliveryMethod]]),e("div",tt,[e("div",ot,r(t.$t("delivery")),1),e("div",st,r(t.$t("deliveryDescription")),1)])],2)]),e("h2",rt,[o[21]||(o[21]=e("svg",{class:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})],-1)),V(" "+r(t.$t("paymentMethod")),1)]),e("div",lt,[e("label",{class:x(["flex items-center p-4 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-primary transition-all",{"border-primary bg-orange-50":l.value.paymentMethod==="cash"}])},[g(e("input",{"onUpdate:modelValue":o[10]||(o[10]=s=>l.value.paymentMethod=s),type:"radio",value:"cash",class:"text-primary focus:ring-primary",checked:""},null,512),[[S,l.value.paymentMethod]]),e("div",at,[e("div",nt,r(t.$t("cashOnDelivery")),1),e("div",dt,r(t.$t("cashOnDeliveryDescription")),1)])],2),e("label",{class:x(["flex items-center p-4 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-primary transition-all",{"border-primary bg-orange-50":l.value.paymentMethod==="online"}])},[g(e("input",{"onUpdate:modelValue":o[11]||(o[11]=s=>l.value.paymentMethod=s),type:"radio",value:"online",class:"text-primary focus:ring-primary"},null,512),[[S,l.value.paymentMethod]]),e("div",it,[e("div",ut,r(t.$t("onlinePayment")),1),e("div",ct,r(t.$t("onlinePaymentDescription")),1)])],2),e("label",{class:x(["flex items-center p-4 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-primary transition-all",{"border-primary bg-orange-50":l.value.paymentMethod==="click"}])},[g(e("input",{"onUpdate:modelValue":o[12]||(o[12]=s=>l.value.paymentMethod=s),type:"radio",value:"click",class:"text-primary focus:ring-primary"},null,512),[[S,l.value.paymentMethod]]),e("div",pt,[e("div",vt,r(t.$t("click")),1),e("div",mt,r(t.$t("clickDescription")),1)]),e("div",gt,[o[22]||(o[22]=e("span",null," Click Number : ",-1)),e("span",yt,r(K.value),1)])],2),l.value.paymentMethod==="click"?(d(),u("div",bt,[e("div",ht,[e("label",ft,r(t.$t("clickNumber")),1),g(e("input",{"onUpdate:modelValue":o[13]||(o[13]=s=>l.value.clickNumber=s),type:"text",class:"w-full border-2 border-gray-200 rounded-xl px-4 py-4 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all"},null,512),[[C,l.value.clickNumber]])])])):h("",!0)])])]),e("section",_t,[e("div",xt,[e("div",kt,[e("h2",wt,[o[23]||(o[23]=e("svg",{class:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),V(" "+r(t.$t("orderSummary")),1)]),N.value.length?(d(),u("div",Mt,[(d(!0),u(G,null,H(N.value,s=>{var m,_;return d(),u("div",{key:s._key,class:"border-b border-gray-200 pb-4 last:border-b-0"},[e("div",$t,[e("div",null,[e("h3",Ct,r(s.service_title),1),(m=s.service_options)!=null&&m.length?(d(),u("div",St,r(t.$t("options"))+": "+r((_=s.service_options)==null?void 0:_.map($=>$.title).join("ØŒ ")),1)):h("",!0)]),e("div",Vt,[e("span",Nt,r(s.total_with_option.toFixed(2))+" "+r(t.$t("currency")),1)])])])}),128)),e("div",Bt,[e("div",jt,[e("span",Pt,r(t.$t("productTotal"))+":",1),e("span",At,r(B.value.toFixed(2))+" "+r(t.$t("currency")),1)]),e("div",Ot,[e("span",Tt,r(t.$t("deliveryFee"))+":",1),e("span",Ut,r(U.value.toFixed(2))+" "+r(t.$t("currency")),1)]),e("div",null,[e("label",Dt,r(t.$t("discountCoupon")),1),e("div",Lt,[g(e("input",{"onUpdate:modelValue":o[14]||(o[14]=s=>l.value.coupon=s),type:"text",placeholder:t.$t("enterCouponCode"),class:"w-full pr-12 pl-4 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all"},null,8,It),[[C,l.value.coupon]]),e("button",{onClick:I(re,["prevent","stop"]),class:"bg-primary text-white px-4 py-2 rounded-xl mx-2"},r(t.$t("apply")),1)]),y.value.coupon?(d(),u("div",Gt,r(y.value.coupon),1)):h("",!0)]),e("div",zt,[e("span",null,r(t.$t("finalTotal"))+":",1),e("span",null,r(X.value.toFixed(2))+" "+r(t.$t("currency")),1)])])])):(d(),u("div",Ft,[o[24]||(o[24]=e("div",{class:"text-6xl mb-4"},"ðŸ›’",-1)),e("p",Jt,r(t.$t("emptyCartMessage")),1)]))]),e("div",Et,[e("button",{disabled:!N.value.length||T.value,class:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-4 rounded-xl font-bold text-lg hover:from-orange-600 hover:to-red-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg"},[T.value?(d(),u("span",Ht,o[25]||(o[25]=[e("svg",{class:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),V(" Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ£ÙƒÙŠØ¯... ",-1)]))):(d(),u("span",Rt,r(t.$t("confirmOrder")),1))],8,qt),z(n,{to:"/cart",class:"block w-full bg-gray-100 text-gray-700 py-4 rounded-xl font-bold text-lg hover:bg-gray-200 transition-all text-center"},{default:R(()=>[V(r(t.$t("backToCart")),1)]),_:1})])])])],32)])]),z(ge,{name:"fade-slide"},{default:R(()=>[j.value?(d(),u("div",Kt,[e("div",Qt,[e("div",Wt,[e("h3",Xt,r(t.$t("selectLocation")),1),e("button",{onClick:o[15]||(o[15]=s=>j.value=!1),class:"text-gray-400 hover:text-gray-700 bg-white rounded-full p-2 shadow-md"}," âœ• ")]),z(b,{placeholder:"This is a placeholder",onPlace_changed:t.setPlace,options:{bounds:{north:1.4,south:1.2,east:104,west:102},strictBounds:!0}},null,8,["onPlace_changed"]),z(M,{center:f.value,zoom:13,style:{width:"100%",height:"300px"},onClick:ie},{default:R(()=>[p.value?(d(),te(w,{key:0,position:p.value,draggable:!0,onDragend:de},null,8,["position"])):h("",!0)]),_:1},8,["center"]),D.value?h("",!0):(d(),u("div",Yt,[g(e("input",{"onUpdate:modelValue":o[16]||(o[16]=s=>J.value=s),placeholder:t.$t("searchLocation"),class:"w-full border-2 border-gray-200 rounded-2xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary"},null,8,Zt),[[C,J.value]])])),D.value?h("",!0):(d(),u("div",eo,[e("button",{onClick:ue,class:"flex-1 bg-gradient-to-r from-orange-500 to-red-500 text-white py-4 rounded-2xl font-semibold"},r(t.$t("confirmLocation")),1),e("button",{onClick:o[17]||(o[17]=s=>j.value=!1),class:"flex-1 bg-gray-200 text-gray-700 py-4 rounded-2xl font-semibold hover:bg-gray-300"},r(t.$t("cancel")),1)]))])])):h("",!0)]),_:1}),k.value.visible?(d(),te(be,{key:0,message:k.value.message,type:k.value.type,visible:k.value.visible},null,8,["message","type","visible"])):h("",!0)],64)}}},lo=pe(to,[["__scopeId","data-v-2550bcba"]]);export{lo as default};
